{% extends 'base.html' %}

{% block title %}Courses{% endblock %}

{% block content %}
<h1 class="mb-4 text-center">Courses</h1>

<!-- Form -->
<div class="card p-4 mb-4 fade-in shadow">
    <form method="POST">
        {% csrf_token %}
        <div class="mb-3">
            <label class="form-label">Course Name</label>
            <input type="text" name="name" class="form-control" placeholder="Enter course name" required>
        </div>
        <div class="mb-3">
            <label class="form-label">Description</label>
            <textarea name="description" class="form-control" placeholder="Enter course description"
                required></textarea>
        </div>
        <button class="btn btn-primary">Add Course</button>
    </form>
</div>

<!-- Messages -->
{% if messages %}
<div class="mb-4">
    {% for message in messages %}
    <div class="alert alert-{{ message.tags }}">{{ message }}</div>
    {% endfor %}
</div>
{% endif %}

<!-- Courses Table -->
<div class="row">
    {% for course in courses %}
    <div class="col-md-4 mb-3">
        <div class="card p-3 shadow-sm">
            <h5>{{ course.name }}</h5>
            <p>{{ course.description.content }}</p>
            <a href="{% url 'comment_course' course.id %}" class="btn btn-sm btn-info">Comments</a>
            <a href="{% url 'delete_course' course.id %}" class="btn btn-sm btn-danger">Remove</a>
        </div>
    </div>
    {% empty %}
    <p>No courses yet!</p>
    {% endfor %}
</div>
{% endblock %}